var small_screen,medium_screen,large_screen,windowW,windowH,local_coords=[],searchArray=[],sideD,c1x,c1yW,c1yD,data_dimensions=[],data_walls=[],data_teams=[],data_outfields=[],publicSpreadsheetUrl="https://docs.google.com/spreadsheets/d/1FJw9RMHYKeevS4E1YML_dlzogJ1pnowVw5W_vDNf4No/edit?usp=sharing";function resize(){windowW=window.innerWidth,windowH=window.innerHeight,small_screen=medium_screen=large_screen=!1,1025<=windowW?large_screen=!0:650<=windowW?medium_screen=!0:windowW<650&&(small_screen=!0),sideD={w:$(".side > figure").width()-5-0,h:$(".side > figure").height()-12-30,top:12,right:5,bottom:30,left:10}}function setup(){windowW=window.innerWidth,windowH=window.innerHeight,small_screen=medium_screen=large_screen=!1,1025<=windowW?large_screen=!0:650<=windowW?medium_screen=!0:windowW<650&&(small_screen=!0),sideD={w:$(".side > figure").width()-5-0,h:$(".side > figure").height()-12-30,top:12,right:5,bottom:30,left:10};var e=d3.line().curve(d3.curveBasis).x(function(e){return c1x(e.angle)}).y(function(e){return c1yD(e.distance)})}function loadData(){}function showInfo(e,t){processData(e)}function processData(e){console.log(e),e.forEach(function(e){e.values=JSON.parse(e.values),e.coordinates=[];for(var t=0;t<e.values.length;t++){var n=e.values[t][2];void 0===n&&(n=0);var i={x:e.values[t][0],y:e.values[t][1],cpx1:e.values[t][2],cpy1:e.values[t][3],cpx2:e.values[t][4],cpy2:e.values[t][5]};e.coordinates.push(i)}}),Array.prototype.push.apply(data_outfields,e),chartone()}function init(){window.addEventListener("resize",resize),Tabletop.init({key:publicSpreadsheetUrl,callback:showInfo,simpleSheet:!0}),setup(),loadData()}function chartone(){c1x=d3.scaleLinear().domain([0,103.7]).range([0,sideD.w]),c1y=d3.scaleLinear().domain([0,98.52]).range([0,sideD.w]);var e=d3.line().curve(d3.curveLinear).x(function(e){return c1x(e.x)}).y(function(e){return c1y(e.y)}),t=d3.select(".chart1").append("svg").attr("width",sideD.w+sideD.left+sideD.right).attr("height",sideD.w+sideD.left+sideD.right),n=t.append("g").attr("class","group").attr("transform","translate("+sideD.left+","+sideD.top+")"),i=d3.axisTop(c1x).tickSize(sideD.h).tickFormat(function(e){return e}),r;t.append("g").attr("class","x axis").attr("transform","translate("+sideD.left+","+sideD.h+")").call(i),n.selectAll(".outfield").data(data_outfields).enter().append("g").attr("class","outfield").style("fill",function(e){return e.colour}).selectAll("circle").data(function(e){return e.coordinates}).enter().append("circle").attr("cx",function(e){return c1x(e.x)}).attr("cy",function(e){return c1y(e.y)}).attr("r",2);for(var a=0;a<data_outfields.length;a++){for(var o=data_outfields[a],s=d3.path(),c=0;c<o.coordinates.length;c++){var d=c1x(o.coordinates[c].x),l=c1y(o.coordinates[c].y);if(null!=o.coordinates[c].cpy2)var u=c1x(o.coordinates[c].cpx1),p=c1y(o.coordinates[c].cpy1),w=c1x(o.coordinates[c].cpx2),f=c1y(o.coordinates[c].cpy2);0===c&&s.moveTo(d,l),c<o.coordinates.length&&(0!=c&&void 0===o.coordinates[c].cpy2&&s.lineTo(d,l),null!=o.coordinates[c].cpy2&&s.bezierCurveTo(u,p,w,f,d,l))}n.append("path").attr("d",s).style("fill","none").style("stroke",o.colour)}}function type(e,t,n){e.angle=+e.angle;for(var i=1,r=n.length,a;i<r;++i)e[a=n[i]]=+e[a];return e}init();