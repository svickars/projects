<!DOCTYPE html>
<html lang="en-US" class="no-js no-svg">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Titletowns - Americaâ€™s Winngest Cities</title>

    <link href="css/easy-autocomplete.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-9ralMzdK1QYsk4yBY680hmsb4/hJ98xK3w0TIaJ3ll4POWpWUYaA2bRjGGujGT8w" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300|Inconsolata" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/dpo4ptz.css">

    <link rel="icon" href="http://projects.samvickars.com/titletowns/favicon.png">

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>

  </head>

  <body>

    <div class="container dark full">
      <section id="title">
        <div class="intro">
          <h1>What makes a titletown?</h1>
          <h1 id="subtitle-user-city">The Winningest Cities in North American Sports</h1>
        </div>
        <div class="intro">
          <h2>
            <span class="intro-emoji" id="intro-emoji-0">&#x1F3C6;</span>
            <span class="intro-emoji" id="intro-emoji-1">&#x26F5;</span>
            <span class="intro-emoji" id="intro-emoji-2">&#x1F410;</span>
            <span class="intro-emoji" id="intro-emoji-3">&#x1F947;</span>
          </h2>
        </div>
        <div class="prose">
          <p class="intro-fade">
            When Golden State won its third NBA championship in four years a few months ago, I started thinking. Of all the cities to field a professional or college level team in the last 150 years, which is the winningest?
          </p>
          <p class="intro-fade">
            Is it <span id="groundrules-user-city">&nbsp;</span>, a city literally <em>called</em> Titletown? Or maybe
            it&rsquo;s some
            place bigger, like <span id="ground-rules-biggercity">New York City</span>.
          </p>
          <p class="intro-fade">
            Well, that depends. I've dug through the data and come up with three cases in which any of these cities could be crowned Titletown. Before we dive in though, we&rsquo;ve got to lay out some ground rules. Use the filters in the bottom
            left to set your parameters and we'll get started.
          </p>
        </div>
      </section>
    </div>
    <!-- <div class="container full">
      <section class="wide" id="basics">
        <div class="prose">
          <div class="p">
            Let&rsquo;s look at metro areas fielding
            <div class="inline-dropdown">
              <select class="inline-dropdown__select" id="levelselect">
                <option data-value="all-levels" value="any" selected>any</option>
                <option data-value="pro" value="pro">pro</option>
                <option data-value="college" value="college">college</option>
              </select>
              <i class="fas fa-caret-down"></i>
            </div>
            teams, <span id="leagueselect_in">in </span>
            <div class="inline-dropdown" id="leaguedrop">
              <select class="inline-dropdown__select" id="leagueselect">
                <option data-value="all-leagues" value="all leagues" selected>all leagues</option>
                <option data-value="big4" value="the big 4">the big 4</option>
                <option data-value="mlb" value="the MLB">the MLB</option>
                <option data-value="nba" value="the NBA">the NBA</option>
                <option data-value="nfl" value="the NFL">the NFL</option>
                <option data-value="nhl" value="the NHL">the NHL</option>
                <option data-value="mls" value="the MLS">the MLS</option>
                <option data-value="cfl" value="the CFL">the CFL</option>
              </select>
              <i class="fas fa-caret-down"></i>
            </div>
            <div class="inline-dropdown" id="sportdrop">
              <select class="inline-dropdown__select" id="sportselect">
                <option data-value="all-sports" value="all sports" selected>all sports</option>
                <option data-value="baseball_m" value="baseball (M)">baseball (M)</option>
                <option data-value="basketball_m" value="basketball (M)">basketball (M)</option>
                <option data-value="basketball_w" value="basketball (W)">basketball (W)</option>
                <option data-value="football_m" value="football (M)">football (M)</option>
                <option data-value="soccer_w" value="soccer (W)">soccer (W)</option>
                <option data-value="volleyball_w" value="volleyball (W)">volleyball (W)</option>
              </select>
              <i class="fas fa-caret-down"></i>
            </div>
            <br>
            <div class="filter-wrapper yearFilter-wrapper">
              <div>between&nbsp;</div>
              <div class="yearFilter">
                <input class="yearinput" type="range" min="1870" max="2018" value="1870" id="lower">
                <input class="yearinput" type="range" min="1870" max="2018" value="2018" id="upper">
                <svg class="yearrange"></svg>
              </div>
            </div>
            <br>
            <div class="filter-wrapper locationFilter-wrapper">
              <div>using&nbsp;&nbsp;</div>
              <div class="searchwrapper">
                <input type="text" id="citysearch" class="search-bar" placeholder="Update city..." />
                <i id="searchsubmit" class="far fa-search"></i>
              </div>
              <div class="searchsuccess"><i class="far fa-check-circle"></i></div>
              <div>&nbsp;&nbsp;as a jumping off point.</div>
            </div>
            <img src="http://image.flaticon.com/icons/svg/3/3907.svg" id="arrow" class="animated bounce" />
          </div>
          <p class="caption">
            I&rsquo;ve tried to guess the nearest included metro area to your location, but you can change it to anywhere included in our dataset. You can update any of these filters at any time in the bottom left corner.
          </p>
      </section>
    </div> -->
    <div class="container full">
      <section class="side" id="case1_scrolly">
        <figure id="case1_figure">
          <div class="header" id="case1_header">
            <h3>Case 1.</h3>
            <h2>The Winningest Metro Areas by Title Counts</h2>
          </div>
          <div class="case1">
          </div>
          <div class="showMore_wrapper" id="showMoreC1">
            <span class="showMore">Show more</span>
          </div>
        </figure>
        <article>
          <div class="step light" data-index="0">
            <div class="inner">
              <h4>Actual Titles</h4>
              If we simply look at the numbers &mdash; total championships won by metro area &mdash; it's pretty clear who the leaders are. In this case, looking at <span class="step_blank" id="step0_filter">all sports</span> between <span class="step_blank" id="step0_start">1870</span>
              and <span class="step_blank" id="step0_end">2018</span>, the winningest city in North America is <span id="step0_leader">Greater Los Angeles, CA</span>.
            </div>
          </div>
          <div class="step light" data-index="1">
            <div class="inner">
              This makes sense, considering <span id="step1_leader">Greater Los Angeles</span> teams have played a combined <span id="step1_totalseasons">x</span> seasons <span id="step1_local">(Vancouver, BC teams have played</span> <span id="step1_totalseasons_local">116)</span>
              . But is <span id="step1_totaltitles">74</span> titles what we should expect?
            </div>
          </div>
          <div class="step light" data-index="2">
            <div class="inner">
              Well actually, no. We&rsquo;d expect them to have won <span id="step2_lessormore">a lot fewer</span>. By giving each team in a given season an equal chance of winning the championship, and adding those odds up over time, we can get an
              expected number of championships. The expected title count for <span id="step2_leader">Greater Los Angeles</span> is <span id="step2_howmany">24</span> <span id="step2_local">(Vancouver, BC has a </span><span id="step2_howmany_local">+4.6 differential)</span>.
            </div>
          </div>
          <div class="step light" data-index="3">
            <div class="inner">
              <h4>Expectations vs Reality</h4>
              So which cities are doing better than expected? And which are doing worse? In terms of actual title count vs expected title count, ...
              </br></br>

              <div class="button-wrapper">
                Sort by differential:<br>
                <div class="button isactive" id="switch_high_diff">
                  Highest
                </div>
                <div class="button" id="switch_low_diff">
                  Lowest
                </div>
              </div>
            </div>
          </div>
          <div class="step light laststep" data-index="4">
            <div class="inner">
              <h4>Explore</h4>
              Play with the filters and search for a team in the bottom left to explore the data for yourself.
              </br></br>
              <div class="button-wrapper">
                Change the view:</br>
                <div class="button" id="switch_actual">
                  Actual
                </div>
                <div class="button isactive" id="switch_expected">
                  Expected
                </div>
              </div>
            </div>
          </div>
        </article>
      </section>
    </div>

    <div class="container dark full" id="case2_scrolly">
      <section class="side">
        <figure>
          <div class="header" id="case2_header">
            <h3>Case 2.</h3>
            <h2>The Winningest Metro Areas over Time</h2>
          </div>
          <div class="case2">
          </div>
          <!-- <div class="showMore_wrapper" id="showMoreC1">
            <span class="showMore">Show more</span>
          </div> -->
        </figure>
        <article>
          <div class="step" data-index="5">
            <div class="inner">
              <h4>Conversion Rates</h4>
              But what about a metro area&rsquo;s performance over time? How has the idea of a titletown changed over the past 150 years?
            </div>
          </div>
          <div class="step" data-index="6">
            <div class="inner">
              Let&rsquo;s consider a metro area&rsquo;s conversion rate &mdash; that is, how well a city&rsquo;s teams perform when given a real shot at winning it all. Between 1870 and 1920, in all sports, the best teams came from New Haven (teams
              there competed in 47 seasons, winning 17 times, or in 36% of their attempts).
            </div>
          </div>
          <div class="step" data-index="7">
            <div class="inner">
              Between 1920 and 1970, however, New Haven falls off the map, replaced by New York, whose teams won a title in 35 of 51 combined seasons, and Toronto, which went 23 for 51.
            </div>
          </div>
          <div class="step" data-index="8">
            <div class="inner">
              <h4>Dry Spells...</h4>
              Lorem ipsum
            </div>
          </div>
          <div class="step" data-index="9">
            <div class="inner">
              Lorem ipsum
            </div>
          </div>
          <div class="step laststep" data-index="10">
            <div class="inner">
              Lorem ipsum
            </div>
          </div>
        </article>
      </section>
    </div>

    <div class="container full">
      <section class="side" id="case3_scrolly">
        <figure id="case3_figure">
          <div class="header" id="case3_header">
            <h3>Case 3.</h3>
            <h2>The Winningest Metro Areas by Population</h2>
          </div>
          <div class="case3">
          </div>
          <!-- <div class="showMore_wrapper" id="showMoreC1">
            <span class="showMore">Show more</span>
          </div> -->
        </figure>
        <article>
          <div class="step light" data-index="11">
            <div class="inner">
              <h4>Home Field Advantage</h4>
              There is also a relationship between a metro area&rsquo;s size and its success: bigger metro equals bigger market, and a bigger market can translate to bigger payrolls. Teams in these palces can shell out the big bucks for superstars,
              tempting them away from smaller markets, their cost spread out across more fans (read: consumers).
            </div>
          </div>
          <div class="step light" data-index="12">
            <div class="inner">
              So how does this relationship factor into the makings of a titletown? In our first case above, we looked at how many championships we&rsquo;d expect a city to have won based on the number of seasons its teams had played. Now
              we&rsquo;ll look at how many we&rsquo;d expect based on its population.
            </div>
          </div>
          <div class="step light" data-index="13">
            <div class="inner">
              We do this using a location quotient. Essentially, this compares a metro area&rsquo;s titles per capita to the overall. This graph plots number of titles vs. population size, while the size of the circle represents a metro area&rsquo;s
              TLQ, or its performance above expectation.
            </div>
          </div>
          <div class="step light" data-index="14">
            <div class="inner">
              <h4>The Overperformers</h4>
              ...</br>
              The biggest cities may be winning the most titles, but they aren&rsquo;t performing any better than we&rsquo;d expect.
              </br>
              </br>
              <div class="button-wrapper">
                Take a look for yourself:</br>
                <div class="button" id="casethree_los-angeles">
                  Los Angeles
                </div>
                <div class="button" id="casethree_newyork">
                  New York
                </div>
                <div class="button" id="casethree_boston">
                  Boston
                </div>
                <div class="button" id="casethree_bay-area">
                  Bay Area
                </div>
              </div>
            </div>
          </div>
          <div class="step light laststep" data-index="15">
            <div class="inner">
              <h4>The Underperformers</h4>
              Lorem ipsum
            </div>
          </div>
        </article>
      </section>
    </div>

    <div class="filter-container">
      <div class="f-header">
        <div class="left" id="selected_filters">
          All-Levels / All-Leagues / 1870-2018
        </div>
        <div class="right">
          Filter
        </div>
      </div>
      <div class="f-section">
        <div>
          Location
          <div class="searchwrapper">
            <input type="text" id="citysearch-left" class="search-bar" placeholder="Update city..." />
            <i id="searchsubmit" class="far fa-search"></i>
          </div>
        </div>
      </div>
      <div class="f-section">
        <div>
          Level
          <div class="inline-dropdown">
            <select class="inline-dropdown__select" id="filter-level">
              <option data-value="all-levels" value="any" selected>any</option>
              <option data-value="pro" value="pro">pro</option>
              <option data-value="college" value="college">college</option>
            </select>
            <i class="fas fa-caret-down"></i>
          </div>
        </div>
        <div>
          <span id="filter-league-change">League</span>
          <div class="inline-dropdown" id="filter-sport">
            <select class="inline-dropdown__select" id="sportselect-filter">
              <option data-value="all-sports" value="all sports" selected>all sports</option>
              <option data-value="baseball_m" value="baseball (M)">baseball (M)</option>
              <option data-value="basketball_m" value="basketball (M)">basketball (M)</option>
              <option data-value="basketball_w" value="basketball (W)">basketball (W)</option>
              <option data-value="football_m" value="football (M)">football (M)</option>
              <option data-value="soccer_w" value="soccer (W)">soccer (W)</option>
              <option data-value="volleyball_w" value="volleyball (W)">volleyball (W)</option>
            </select>
            <i class="fas fa-caret-down"></i>
          </div>
          <div class="inline-dropdown" id="filter-league">
            <select class="inline-dropdown__select" id="leagueselect-filter">
              <option data-value="all-leagues" value="all leagues" selected>all leagues</option>
              <option data-value="big4" value="the big 4">the big 4</option>
              <option data-value="mlb" value="the MLB">the MLB</option>
              <option data-value="nba" value="the NBA">the NBA</option>
              <option data-value="nfl" value="the NFL">the NFL</option>
              <option data-value="nhl" value="the NHL">the NHL</option>
              <option data-value="mls" value="the MLS">the MLS</option>
              <option data-value="cfl" value="the CFL">the CFL</option>
            </select>
            <i class="fas fa-caret-down"></i>
          </div>
        </div>
      </div>
      <div class="f-section">
        <div>
          Timeframe
          <div class="filter-wrapper yearFilter-wrapper">
            <div class="filter-year">
              <input class="yearinput-left" type="range" min="1870" max="2018" value="1870" id="lower-left">
              <input class="yearinput-left" type="range" min="1870" max="2018" value="2018" id="upper-left">
              <svg class="yearrange-left"></svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src=" //ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js "></script>
    <!-- <script src='https://unpkg.com/intersection-observer'></script> -->
    <script src="js/jquery.easy-autocomplete.js"></script>
    <script src="js/stickyfill.min.js"></script>
    <script src="js/enter-view.min.js"></script>
    <script src="js/d3-tip-min.js"></script>
    <script src="js/main.js"></script>
  </body>

</html>