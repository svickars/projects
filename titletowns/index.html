<!DOCTYPE html>
<html lang="en-US" class="no-js no-svg">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Titletowns - Americaâ€™s Winngest Cities</title>

    <link href="css/easy-autocomplete.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-POYwD7xcktv3gUeZO5s/9nUbRJG/WOmV6jfEGikMJu77LGYO8Rfs2X7URG822aum" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300|Inconsolata" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/dpo4ptz.css">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/1.17.0/d3-annotation.min.css" rel="stylesheet"> -->

    <link rel="icon" href="http://projects.samvickars.com/titletowns/favicon.png">

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>

  </head>

  <body>

    <div class="container dark full">
      <section id="title">
        <div class="intro">
          <h2>
            <span class="intro-emoji" id="intro-emoji-0">&#x1F3C6;</span>
            <span class="intro-emoji" id="intro-emoji-1">&#x26F5;</span>
            <span class="intro-emoji" id="intro-emoji-2">&#x1F410;</span>
            <span class="intro-emoji" id="intro-emoji-3">&#x1F947;</span>
          </h2>
        </div>
        <div class="intro">
          <h1>What makes a titletown?</h1>
          <h1 id="subtitle-user-city">The Winningest Cities in North American Sports</h1>
        </div>
        <div class="prose">
          <p class="intro-fade">
            When Golden State won its third NBA championship in four years a few months ago, I started thinking. Of all the cities to field a professional or college level team in the last 150 years, which is the winningest?
          </p>
          <p class="intro-fade">
            <span id="groundrules-user-city">Is it Green Bay, WI</span>, a city literally <em>called</em> Titletown? Or maybe
            it&rsquo;s some
            place bigger, like <span id="ground-rules-biggercity">New York City</span>.
          </p>
          <p class="intro-fade">
            Well, that depends. I've dug through the data and come up with three cases in which any of these cities could be crowned Titletown. Before we dive in though, we&rsquo;ve got to lay out some ground rules. Use the filters in the bottom
            left to set your parameters and we'll get started.
          </p>
        </div>
      </section>
    </div>
    <!-- <div class="container full">
      <section class="wide" id="basics">
        <div class="prose">
          <div class="p">
            Let&rsquo;s look at metro areas fielding
            <div class="inline-dropdown">
              <select class="inline-dropdown__select" id="levelselect">
                <option data-value="all-levels" value="any" selected>any</option>
                <option data-value="pro" value="pro">pro</option>
                <option data-value="college" value="college">college</option>
              </select>
              <i class="fas fa-caret-down"></i>
            </div>
            teams, <span id="leagueselect_in">in </span>
            <div class="inline-dropdown" id="leaguedrop">
              <select class="inline-dropdown__select" id="leagueselect">
                <option data-value="all-leagues" value="all leagues" selected>all leagues</option>
                <option data-value="big4" value="the big 4">the big 4</option>
                <option data-value="mlb" value="the MLB">the MLB</option>
                <option data-value="nba" value="the NBA">the NBA</option>
                <option data-value="nfl" value="the NFL">the NFL</option>
                <option data-value="nhl" value="the NHL">the NHL</option>
                <option data-value="mls" value="the MLS">the MLS</option>
                <option data-value="cfl" value="the CFL">the CFL</option>
              </select>
              <i class="fas fa-caret-down"></i>
            </div>
            <div class="inline-dropdown" id="sportdrop">
              <select class="inline-dropdown__select" id="sportselect">
                <option data-value="all-sports" value="all sports" selected>all sports</option>
                <option data-value="baseball_m" value="baseball (M)">baseball (M)</option>
                <option data-value="basketball_m" value="basketball (M)">basketball (M)</option>
                <option data-value="basketball_w" value="basketball (W)">basketball (W)</option>
                <option data-value="football_m" value="football (M)">football (M)</option>
                <option data-value="soccer_w" value="soccer (W)">soccer (W)</option>
                <option data-value="volleyball_w" value="volleyball (W)">volleyball (W)</option>
              </select>
              <i class="fas fa-caret-down"></i>
            </div>
            <br>
            <div class="filter-wrapper yearFilter-wrapper">
              <div>between&nbsp;</div>
              <div class="yearFilter">
                <input class="yearinput" type="range" min="1870" max="2018" value="1870" id="lower">
                <input class="yearinput" type="range" min="1870" max="2018" value="2018" id="upper">
                <svg class="yearrange"></svg>
              </div>
            </div>
            <br>
            <div class="filter-wrapper locationFilter-wrapper">
              <div>using&nbsp;&nbsp;</div>
              <div class="searchwrapper">
                <input type="text" id="citysearch" class="search-bar" placeholder="Update city..." />
                <i id="searchsubmit" class="far fa-search"></i>
              </div>
              <div class="searchsuccess"><i class="far fa-check-circle"></i></div>
              <div>&nbsp;&nbsp;as a jumping off point.</div>
            </div>
            <img src="http://image.flaticon.com/icons/svg/3/3907.svg" id="arrow" class="animated bounce" />
          </div>
          <p class="caption">
            I&rsquo;ve tried to guess the nearest included metro area to your location, but you can change it to anywhere included in our dataset. You can update any of these filters at any time in the bottom left corner.
          </p>
      </section>
    </div> -->
    <div class="container full">
      <section class="side" id="case1_scrolly">
        <figure id="case1_figure">
          <div class="header" id="case1_header">
            <h3>Case 1.</h3>
            <h2>The Winningest Metro Areas by Title Counts</h2>
          </div>
          <div class="case1">
          </div>
          <div class="showMore_wrapper" id="showMoreC1">
            <span class="showMore">Show more</span>
          </div>
        </figure>
        <article>
          <div class="step light" data-index="0">
            <div class="inner">
              <h4>Actual Titles</h4>
              Our first way to determine titletowns is to simply look at the numbers &mdash; total championships won by a metro area. And in this case, looking at <span class="step_blank" id="step0_filter">all sports</span> between <span class="step_blank"
                id="step0_start">1870</span> and <span class="step_blank" id="step0_end">2018</span>, the winningest city in North America is
              <span id="step0_leader">Greater Los Angeles, CA</span>.
            </div>
          </div>
          <div class="step light" data-index="1">
            <div class="inner">
              This makes sense, considering <span class="step1_leader">Greater Los Angeles</span> teams have played a combined <span id="step1_totalseasons">x</span> seasons <span id="step1_local"></span> <span id="step1_totalseasons_local"></span>
              . But is <span id="step1_totaltitles">74</span> titles what we should expect based on the number of opportunites they&rsquo;ve had to win?
            </div>
          </div>
          <div class="step light" data-index="2">
            <div class="inner">
              Well actually, no. We&rsquo;d expect them to have won <span id="step2_lessormore">a lot fewer</span>. By giving each team in a given season an equal chance of winning its respective championship, and adding those odds up over time, we
              can get an
              expected number of championships. Combining these for each metro area to ever field a team, we can compare the expected to actual wins differential for every city in our dataset. <span id="step2_leader">Greater Los Angeles</span>
              should have won <span id="step2_howmany">24</span><span id="step2_local"></span><span id="step2_howmany_local"></span>.
            </div>
          </div>
          <div class="step light" data-index="3">
            <div class="inner">
              <h4>Expected Titles</h4>
              So <span class="step1_leader"></span> is doing better than expected. What other metro areas are overperforming? How about underperforming?
              </br></br>

              <div class="button-wrapper">
                Show me:<br>
                <div class="button isactive" id="switch_high_diff">
                  Overperformers
                </div>
                <div class="button" id="switch_low_diff">
                  Underperformers
                </div>
                <div class="button" id="switch_actual">
                  Actual title counts
                </div>
              </div>
              <h5>Use the filters in the bottom left to explore the data for yourself.</h5>
            </div>
          </div>
          <!-- <div class="step light laststep" data-index="4">
            <div class="inner">

            </div>
          </div> -->
        </article>
      </section>
    </div>

    <div class="container dark full" id="case2_scrolly">
      <section class="side">
        <figure>
          <div class="header" id="case2_header">
            <h3>Case 2.</h3>
            <h2>The Winningest Metro Areas over Time</h2>
          </div>
          <div class="case2">
          </div>
          <div class="showMore_wrapper" id="showMoreC2">
            <span class="showMore light">Show more</span>
          </div>
        </figure>
        <article>
          <div class="step" data-index="5">
            <div class="inner">
              <h4>Conversion Rates</h4>
              But what about a metro areaâ€™s performance over time? How has the idea of a titletown changed over the past 150 years?
            </div>
          </div>
          <div class="step" data-index="6">
            <div class="inner">
              Letâ€™s consider a metro areaâ€™s conversion rate â€” that is, how well a cityâ€™s teams perform when given a real shot at winning it all. Between 1870 and 1920, in all sports, the best teams came from New Haven (the Yale Bulldogs competed in
              47 seasons, winning 17 times, or in 36% of their attempts) â€” Vancouver teams hadnâ€™t even started playing yet.
            </div>
          </div>
          <div class="step" data-index="7">
            <div class="inner">
              Between 1920 and 1970, however, New Haven falls of the map, replaced by New York, whose teams won a title in 35 of 51 combined seasons (a 69% conversion rate!), and Toronto, which went 23 for 51 for a 45% conversion.
            </div>
          </div>
          <div class="step" data-index="8">
            <div class="inner">
              In the last 48 years though, itâ€™s all Los Angeles. As a city, LA has won 50 championships since 1970 â€” a conversion rate of 104% â€” and has finished in the final four or better <strong>131</strong> times.</br></br>
              So whereâ€™s the real titletown here? The winningest city in North America has, of course, changed over time. Letâ€™s look at metro areas that have been good (or bad) for a long time.
            </div>
          </div>
          <div class="step" data-index="9">
            <div class="inner">
              <h4>Dry Spells and Dynasties</h4>
              If we look at streaks of final four appearances, we can see <em>how long</em> a city has been good for. And if we look at dynasties â€” championships in a row, â€” we can see how long a metro area has been <em>great</em> for. Maybe more
              importantly though, we can look at dry spells. Every cityâ€™s going to go some time without making the top four, but for me, a metro area that can avoid that as much as possible is a real titletown.
            </div>
          </div>
          <div class="step" data-index="10">
            <div class="inner">
              <div class="button-wrapper">
                Show me:<br>
                <div class="button light" id="switch_dynasty">
                  Longest Dynasties
                </div>
                <div class="button light" id="switch_finalfour">
                  Longest Final Four Streaks
                </div>
                <div class="button light" id="switch_dryspell-long">
                  Most Dry Seasons*
                </div>
                <div class="button light isactive" id="switch_dryspell-short">
                  Fewest Dry Seasons*
                </div>
              </div>
              <h5>*No final four or finals appearance. Minimum 25 seasons played and one title won.</h5>
              <h5>Use the filters in the bottom left to explore the data for yourself. Hover/tap on a dot to view winning teams.</h5>
            </div>
          </div>
        </article>
      </section>
    </div>

    <div class="container full">
      <section class="side" id="case3_scrolly">
        <figure id="case3_figure">
          <div class="header" id="case3_header">
            <h3>Case 3.</h3>
            <h2>The Winningest Metro Areas by Population</h2>
          </div>
          <div class="case3">
          </div>
          <div class="showMore_wrapper" id="showMoreC3">
            <span class="showMore">Show more</span>
          </div>
        </figure>
        <article>
          <div class="step light" data-index="11">
            <div class="inner">
              <h4>Home Field Advantage</h4>
              There is also a relationship between a metro areaâ€™s size and its success: bigger metro equals bigger market, and a bigger market can translate to bigger payrolls. Teams in these places can shell out the big bucks for superstars,
              tempting them away from smaller markets, their cost spread out across more fans (read: consumers).
            </div>
          </div>
          <div class="step light" data-index="12">
            <div class="inner">
              So how does a this relationship factor into the makings of a titletown? In our first case above, we looked at how many championships weâ€™d expect a city to have won based on the number of seasons its teams had played. Now weâ€™ll look at
              hoe many weâ€™d expect based on its population.

            </div>
          </div>
          <div class="step light" data-index="13">
            <div class="inner">
              We do this using a location quotient. Essentially, this compares a metro areaâ€™s titles per capita to the overall. This graph plots number of titles vs. population size, while the size of the circle represents a metro areaâ€™s TLQ, or its
              performance above expectation. The __brighter the circle__, the better a city is doing.
            </div>
          </div>
          <div class="step light" data-index="14">
            <div class="inner">
              <h4>The Overperformers</h4>
              The biggest cities may be winning the most titles, but they arenâ€™t necessarily performing any better than weâ€™d expect. If we look at just professional sportsâ€¦
              </br>
              </br>
              <div class="button-wrapper">
                Take a look for yourself:</br>
                <div class="button" id="casethree_los-angeles">
                  Los Angeles
                </div>
                <div class="button" id="casethree_newyork">
                  New York
                </div>
                <div class="button" id="casethree_boston">
                  Boston
                </div>
                <div class="button" id="casethree_bay-area">
                  Bay Area
                </div>
              </div>
              </br>
              <div class="button-wrapper">
                Show me:<br>
                <div class="button" id="switch_c3_under">
                  Underperformers*
                </div>
                <div class="button isactive" id="switch_c3_over">
                  Overperformers*
                </div>
                <div class="button" id="switch_c3_scatter">
                  Population vs Titles
                </div>
              </div>
              <h5>*Minimum 25 seasons played and one title won.</h5>
              <h5>Use the filters in the bottom left to explore the data for yourself. Hover/tap on a dot to view winning teams.</h5>
            </div>
          </div>
        </article>
      </section>
    </div>

    <div class="container full">
      <section id="wrapup">
        <div class="prose">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
            aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
        <div class="prose">
          <div class="wrapup-chart">
            <div class="wrapup-list" id="case1list">
              <h4>Expected Titles</h4>
            </div>
            <div class="wrapup-list" id="case2list">
              <h4>Expected Titles</h4>
            </div>
            <div class="wrapup-list" id="case3list">
              <h4>Expected Titles</h4>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="filter-container ishidden">
      <div class="f-header">
        <div class="left" id="selected_filters">
          All-Levels / All-Leagues / 1870-2018
        </div>
        <div class="right">
          Filter
        </div>
      </div>
      <div class="f-section">
        <div>
          Location
          <div class="searchwrapper">
            <input type="text" id="citysearch-left" class="search-bar" placeholder="Update city..." />
            <i id="searchsubmit" class="far fa-search"></i>
          </div>
        </div>
      </div>
      <div class="f-section">
        <div>
          Level
          <div class="inline-dropdown">
            <select class="inline-dropdown__select" id="filter-level">
              <option data-value="all-levels" value="any" selected>any</option>
              <option data-value="pro" value="pro">pro</option>
              <option data-value="college" value="college">college</option>
            </select>
            <i class="fas fa-caret-down"></i>
          </div>
        </div>
        <div>
          <span id="filter-league-change">League</span>
          <div class="inline-dropdown" id="filter-sport">
            <select class="inline-dropdown__select" id="sportselect-filter">
              <option data-value="all-sports" value="all sports" selected>all sports</option>
              <option data-value="baseball_m" value="baseball (M)">baseball (M)</option>
              <option data-value="basketball_m" value="basketball (M)">basketball (M)</option>
              <option data-value="basketball_w" value="basketball (W)">basketball (W)</option>
              <option data-value="football_m" value="football (M)">football (M)</option>
              <option data-value="soccer_w" value="soccer (W)">soccer (W)</option>
              <option data-value="volleyball_w" value="volleyball (W)">volleyball (W)</option>
            </select>
            <i class="fas fa-caret-down"></i>
          </div>
          <div class="inline-dropdown" id="filter-league">
            <select class="inline-dropdown__select" id="leagueselect-filter">
              <option data-value="all-leagues" value="all leagues" selected>all leagues</option>
              <option data-value="big4" value="the big 4">the big 4</option>
              <option data-value="mlb" value="the MLB">the MLB</option>
              <option data-value="nba" value="the NBA">the NBA</option>
              <option data-value="nfl" value="the NFL">the NFL</option>
              <option data-value="nhl" value="the NHL">the NHL</option>
              <option data-value="mls" value="the MLS">the MLS</option>
              <option data-value="cfl" value="the CFL">the CFL</option>
            </select>
            <i class="fas fa-caret-down"></i>
          </div>
        </div>
      </div>
      <div class="f-section">
        <div>
          Timeframe
          <div class="filter-wrapper yearFilter-wrapper">
            <div class="filter-year">
              <input class="yearinput-left" type="range" min="1870" max="2018" value="1870" id="lower-left">
              <input class="yearinput-left" type="range" min="1870" max="2018" value="2018" id="upper-left">
              <svg class="yearrange-left"></svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src=" //ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js "></script>
    <!-- <script src='https://unpkg.com/intersection-observer'></script> -->
    <script src="js/jquery.easy-autocomplete.js"></script>
    <script src="js/stickyfill.min.js"></script>
    <script src="js/enter-view.min.js"></script>
    <script src="js/d3-tip-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.3.1/d3-annotation.min.js"></script>
    <script src="js/main.js"></script>
  </body>

</html>