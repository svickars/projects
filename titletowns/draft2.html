<!DOCTYPE html>
<html lang="en-US" class="no-js no-svg">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Titletowns - America’s Winngest Cities</title>

    <meta name="description" content="Information artist, graphic designer, story teller." />

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="Sam Vickars">
    <meta name="twitter:creator" content="@samvickars">
    <meta name="twitter:title" content="Titletowns">
    <meta name="twitter:description" content="America’s Winngest Cities">
    <meta name="twitter:image" content="http://projects.samvickars.com/titletowns/featureImage.png">

    <!-- Open Graph data -->
    <meta property="og:title" content="Titletowns" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://project.samvickars.com/titletowns/" />
    <meta property="og:image" content="http://projects.samvickars.com/titletowns/featureImage2.png" />
    <meta property="og:description" content="America’s Winngest Cities" />
    <meta property="og:site_name" content="Sam Vickars" />


    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500|Roboto:100,400" rel="stylesheet">
    <link href="css/easy-autocomplete.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/style2.css">
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/1.17.0/d3-annotation.min.css" rel="stylesheet">

    <link rel="icon" href="http://projects.samvickars.com/titletowns/favicon.png">

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>
    <script src="//d3js.org/d3-geo-projection.v1.min.js"></script>
    <script src="//d3js.org/topojson.v1.min.js"></script>

    <script>
      (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-72865926-2', 'auto');
      ga('send', 'pageview');
    </script>

  </head>

  <body>

    <header>
      <div class="left">
        <a href="http://samvickars.is">Sam Vickars</a>
      </div>
    </header>

    <div class="title-wrapper">
      <div class="title">
        <h2 style="margin-bottom: -35px;">&#x1F3C6&#x26F5&#x1F410&#x1F947</h2>
        <h1><span class="title-main">Titletowns</span></h1>
        <h2>The Winningest Cities in America</h2>
        <p>Data updated September 2018</p>
      </div>
    </div>

    <div class="grey-wrapper">
      <div class="chart-container" id="secondChart">
        <div class="map-header" id="c2">
          <!-- <div class="divider"></div> -->
          <h3>Chart 1. The numbers</h3>
          <h3>The Winningest Cities in <span id="chart2headertext">Sports</span></h3>
          <p>Select a level and a sport to see the most successful cities in each, or search for a place in the bottom row. <span class="nomobile">Hover over a location to view its championship teams.</span></p>
          <p class="note">Search at bottom defaults to the closest metro area to the viewer -- does this actually work?? Otherwise, *will* show a random city, or should be blank?</p>
          <div class="c2top">
            <div class="c2tl">
              <div class="c2filter">
                <span class="c2option c2optionActive" key="titles">All</span> <span class="c2option" key="pro">Pro</span> <span class="c2option" key="ncaa">College</span>
              </div>
            </div>
            <!-- <div class="c2tr">
              <div class="c2searchWrapper">
                <input type="text" id="search-bar" class="search-bar" placeholder="Search for a city" />
                <i id="searchsubmit" class="fas fa-search"></i>
              </div>
            </div> -->


          </div>
        </div>
        <div class="chart2-wrapper">
          <div class="chart2" id="chart2">
            <div class="chart2left">
              <div class="chart2header">
                <div class="chart2rank"></div>
                <div class="chart2city">
                  City
                </div>
                <div class="chart2legend">
                  <div class="chart2legendEntry" id="lMLB">MLB</div>
                  <div class="chart2legendEntry" id="lNBA" style="color: #333">NBA</div>
                  <div class="chart2legendEntry" id="lNFL">NFL</div>
                  <div class="chart2legendEntry" id="lNHL">NHL</div>
                  <div class="chart2legendEntry" id="lMLS" style="color: #333">MLS</div>
                  <div class="chart2legendEntry" id="lCFL">CFL</div>
                  <div class="chart2legendEntry" id="lNCAA">NCAA</div>
                </div>
              </div>
            </div>
            <div class="chart2right">
              <div class="chart2city" id="c2city">
                Los Angeles, CA
              </div>
              <div class="c2rTitles">
                <div class="c2rTitlesSpan" id="c2numTitles">64</div>
                <div class="c2rTitlesSpan" id="c2numTeams">8</div>
              </div>
              <div class="c2rTitlesCaption">
                <div class="c2rTitlesSpan">TOTAL titles</div>
                <div class="c2rTitlesSpan">teams</div>
              </div>
              <div class="c2rWinningTeams">
                <h6>Winning Teams</h6>
                <div class="c2rWinningList" id="c2winList">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>


    <div class="story-wrapper">
      <div class="story">
        <h2>Something about putting cities on an even playing field (pun intended). </br></br>Look at Green Bay... Widely regarded as Titletown... Why?</h2>
      </div>
    </div>

    <section id="scrolly-overlay">
      <div class="s1 scrolly">
        <figure class="sticky">
          <div class="scatter">
          </div>
        </figure>
        <article>
          <div class="step" data-index="0">
            <div class="step-inner"><strong>step 0.</strong><br> Green Bay has a population of 320,050, making it the 157th largest metro area in the United States, and home to less than a percent of the NFL's market.</div>
            </div>
            <div class="step" data-index="1">
              <div class="step-inner"><strong>step 1.</strong><br> The Packers, however, have won 14 NFL championships (1968) since they started playing in 1919, almost 15% of all pro football titles (97) won in that time.
                <div class="note">combine with step 0? work better as a side scroll?</div>
              </div>
            </div>
            <div class="step" data-index="2">
              <div class="step-inner"><strong>step 2.</strong><br>Look at these numbers in context... compared to larger cities, New York, Boston. Small population, high championship count... edmonton?</div>
              </div>
              <div class="step" data-index="3" id="step3">
                <div class="step-inner"><strong>step 3.</strong><br>Every other metro area to have won... comparing population to number of championships...
                  <div class="instructions">This includes only professional titles, won between 1903 and 2018. Use the controls below to adjust these eligibility requirements. Hover to see city names.</div>
                  <div class="note">Add title, etc., fix scroll backwards</div>
                  <div class="s1filter">
                    <div class="fleft">
                      <form class="form">
                        <div class="s1switch">
                          <p>When do we start counting?</p>
                        </div>
                      </form>
                      [Year range slider]
                    </div>
                    <div class="fright">
                      <form class="form">
                        <div class="s1switch leagueToggleVS" id="switch1">
                          <p>What leagues do we count?</p>
                          <input type="radio" id="sw_all" name="switch1" value="titleYears" />
                          <label for="sw_all">All</label>
                          <input type="radio" id="sw_pro" name="switch1" value="proYears" / checked>
                          <label for="sw_pro">Pro</label>
                          <input type="radio" id="sw_big4" name="switch1" value="big4years" />
                          <label for="sw_big4">Big 4</label>
                          <input type="radio" id="sw_college" name="switch1" value="collegeYears" />
                          <label for="sw_college">College</label>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
              <div class="step" data-index="4">
                <div class="step-inner"><strong>step 4.</strong><br> Use location quotient to compare a city's success to it's expected success. LQ of 1 (
                  <font style="color: #e00000">Chicago</font>) means a city is doing pretty much how we'd expect based on its size.
                  <div class="note">Convert chart to beeswarm to compare location quotients. Bug: scroll up and then down again to get this to work properly.</div>
                </div>
              </div>
              <div class="step" data-index="5">
                <div class="step-inner"><strong>step 5.</strong><br>This means that just because a city wins a lot does not make it all that impressive...<br> Like
                  <font style="color: #e00000">New York</font>, which has won 57 pro titles, but is actually doing <em>slightly worse</em> than we'd expect.</div>
              </div>
              <div class="step" data-index="6">
                <div class="step-inner"><strong>step 6.</strong><br>
                  <font style="color: #e00000">Green Bay</font> is doing great... </div>
              </div>
              <div class="step" data-index="7">
                <div class="step-inner"><strong>step 7.</strong><br> And everywhere else...
                  <div class="instructions">This includes only professional titles, won between 1903 and 2018. Use the controls below to adjust these eligibility requirements.</div>
                  <div class="s1filter">
                    <div class="fleft">
                      <form class="form">
                        <div class="s1switch">
                          <p>When do we start counting?</p>
                        </div>
                      </form>
                      [Year range slider]
                    </div>
                    <div class="fright">
                      <form class="form">
                        <div class="s1switch switch2 leagueToggleTLQ" id="switch2">
                          <p>What leagues do we count?</p>
                          <input type="radio" id="sw_all2" name="switch2" value="titleYears" />
                          <label for="sw_all2">All</label>
                          <input type="radio" id="sw_pro2" name="switch2" value="proYears" / checked>
                          <label for="sw_pro2">Pro</label>
                          <input type="radio" id="sw_big42" name="switch2" value="big4years" />
                          <label for="sw_big42">Big 4</label>
                          <input type="radio" id="sw_college2" name="switch2" value="collegeYears" />
                          <label for="sw_college2">College</label>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
        </article>
      </div>
    </section>

    <div class="grey-wrapper">
      <section id="scrolly-overlay">
        <div class="map-header">
          <h3>Chart 3 - Titles vs Time</h3>
          <p>Shows every metro area that has fielded a team in one of the six pro leagues or 6 NCAA sports included since 1870, every season they played, title won, or final four and finals appearance. The search bar shows the closest metro area to
            the viewer
            (*will* default to random city...). Sorted by earliest season. Add controls for sorting?? [Info bubble for included sports]</p>
        </div>
        <div class="scrolly">
          <figure class="sticky">
            <div class="c1top">
              <div class="chart1rowmain">
                <p>Hover over city to see titles, finals, final four appearance. Search for a city. Hit show more to expand. Colours??
                  <br><span class="colourdot" id="cTitle"></span>Title Won&nbsp;&nbsp;&nbsp;<span class="colourdot" id="cFinal"></span>Finals Apparance&nbsp;&nbsp;&nbsp;<span class="colourdot" id="cFinalFour"></span>Final Four
                  Appearance&nbsp;&nbsp;&nbsp;</p>
              </div>
            </div>
          </figure>
          <article>
            <div class="chart2-wrapper">
              <div class="chart1" id="chart1">
              </div>
              <div class="showMoreWrapper" id="showMoreC1"><span class="showMore">Show more</span></div>
            </div>
          </article>
        </div>
      </section>
    </div>

    <hr class="hr-text hr-last" data-content="&#x1F3C6&#x26F5&#x1F410&#x1F947">

    <footer>
      <div class="left">
        Like this? <a href="http://twitter.com/home?status=@samvickars https://bit.ly/2NvTP4O">Let me know</a>.
      </div>
      <div class="right">
        <a href="https://samvickars.is">Home</a>&nbsp;
        <a href="https://twitter.com/samvickars">Twitter</a>&nbsp;
        <a href="https://github.com/svickars">Github</a>
      </div>
    </footer>

    <script src=" //ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/1.17.0/d3-annotation.min.js"></script>
    <script src='https://unpkg.com/intersection-observer'></script>
    <script src='https://unpkg.com/scrollama'></script>
    <script src="js/jquery.easy-autocomplete.js"></script>
    <script src="js/stickyfill.min.js"></script>
    <script src="js/enter-view.min.js"></script>
    <script src="js/d3-tip.js"></script>
    <!-- <script src="js/d3-voronoi-min.js"></script> -->
    <script src="js/main2.js"></script>
  </body>

</html>